!function(){"use strict";const t=[a(460551),a(2033415),a(3084039),a(4656903),a(5707527),a(6758151),a(7806727),a(9381639),a(10432263),a(11484935),a(12535559),a(13059847),a(14634759),a(14636807),a(14636807),a(14114567),a(14116623),a(13594383),a(13596431),a(13598479),a(13600535),a(13076247),a(13078295),a(13080351),a(12558111),a(12558111),a(12560167),a(12560167),a(12562223),a(12037935),a(12039983),a(12039991),a(13619055),a(14671775),a(15724487),a(16777215)];class i extends HTMLElement{constructor(){super(),this.flames=[],this.width=320,this.height=200,this.active=!0,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.style.width="100%",this.canvas.style.height="100%";for(let t=0;t<this.width;t++)for(let i=1;i<this.height;i++)this.setValue(t,i,0);for(let t=0;t<this.width;t++)this.setValue(t,0,35);this.attachShadow({mode:"open"}).appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.imageData=this.ctx.getImageData(0,0,this.width,this.height);for(let t=0;t<this.imageData.data.length;t++)this.imageData.data[t]=0,t%4==3&&(this.imageData.data[t]=255);this.addEventListener("click",()=>{this.toggle()})}_postAt(t,i){return i*this.width+t}setValue(t,i,a){let e=this._postAt(t,i);this.flames[e]=a}valueAt(t,i){let a=this._postAt(t,i);return this.flames[a]}connectedCallback(){window.requestAnimationFrame(this.update.bind(this))}update(){for(let i=0;i<this.width;i++)for(let a=0;a<this.height-1;a++){let e=3&Math.round(3*Math.random()),s=this.valueAt(i,a),h=s-(1&e),d=i+e-2,n=a+1;this.setValue(d,n,h);let o=4*((this.height-a)*this.width+i);if(s>0){let i=t[s];this.imageData.data[o]=i.r,this.imageData.data[o+1]=i.g,this.imageData.data[o+2]=i.b,this.imageData.data[o+3]=255}else this.imageData.data[o]=0,this.imageData.data[o+1]=0,this.imageData.data[o+2]=0,this.imageData.data[o+3]=255}this.ctx.putImageData(this.imageData,0,0),window.requestAnimationFrame(this.update.bind(this))}toggle(){if(this.active)for(let t=0;t<this.width;t++)this.setValue(t,0,0);else for(let t=0;t<this.width;t++)this.setValue(t,0,35);this.active=!this.active}}function a(t){return{r:t>>16&255,g:t>>8&255,b:255&t}}customElements.get("doom-fire")||customElements.define("doom-fire",i),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js")})}();
//# sourceMappingURL=bundle.js.map
