!function(){"use strict";const t=[i(460551),i(2033415),i(3084039),i(4656903),i(5707527),i(6758151),i(7806727),i(9381639),i(10432263),i(11484935),i(12535559),i(13059847),i(14634759),i(14636807),i(14636807),i(14114567),i(14116623),i(13594383),i(13596431),i(13598479),i(13600535),i(13076247),i(13078295),i(13080351),i(12558111),i(12558111),i(12560167),i(12560167),i(12562223),i(12037935),i(12039983),i(12039991),i(13619055),i(14671775),i(15724487),i(16777215)];class a extends HTMLElement{constructor(){super(),this.flames=[],this.width=320,this.height=200,this.active=!0,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.style.width="100%",this.canvas.style.height="100%";for(let t=0;t<this.width;t++)for(let a=1;a<this.height;a++)this.setValue(t,a,0);for(let t=0;t<this.width;t++)this.setValue(t,0,35);this.attachShadow({mode:"open"}).appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.imageData=this.ctx.getImageData(0,0,this.width,this.height);for(let t=0;t<this.imageData.data.length;t++)this.imageData.data[t]=0,t%4==3&&(this.imageData.data[t]=255);this.addEventListener("click",()=>{this.toggle()})}_postAt(t,a){return a*this.width+t}setValue(t,a,i){let e=this._postAt(t,a);this.flames[e]=i}valueAt(t,a){let i=this._postAt(t,a);return this.flames[i]}connectedCallback(){window.requestAnimationFrame(this.update.bind(this))}update(){for(let a=0;a<this.width;a++)for(let i=0;i<this.height-1;i++){let e=3&Math.round(3*Math.random()),s=this.valueAt(a,i),h=s-(1&e),d=a+e-2,n=i+1;this.setValue(d,n,h);let l=4*((this.height-i)*this.width+a);if(s>0){let a=t[s];this.imageData.data[l]=a.r,this.imageData.data[l+1]=a.g,this.imageData.data[l+2]=a.b,this.imageData.data[l+3]=255}else this.imageData.data[l]=0,this.imageData.data[l+1]=0,this.imageData.data[l+2]=0,this.imageData.data[l+3]=255}this.ctx.putImageData(this.imageData,0,0),window.requestAnimationFrame(this.update.bind(this))}toggle(){if(this.active)for(let t=0;t<this.width;t++)this.setValue(t,0,0);else for(let t=0;t<this.width;t++)this.setValue(t,0,35);this.active=!this.active}}function i(t){return{r:t>>16&255,g:t>>8&255,b:255&t}}customElements.get("doom-fire")||customElements.define("doom-fire",a)}();
//# sourceMappingURL=bundle.js.map
